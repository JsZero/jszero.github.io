{"pages":[{"title":"ÂÖ≥‰∫é","text":"‰∏Ä‰∏™ËèúÈ∏üÁ†ÅÂÜúÁöÑÁ©∫Èó¥üèî Ê≤øÈÄîÁöÑÈ£éÊôØ üêï ÂÆ∂ÈáåÁöÑÂ∞èÊü¥Áä¨‚ÄúÂç∑È•º‚Äù üé∂ Âê¨ËøáÁöÑÊºîÂî±‰ºö üç≤ ÂìÅÂ∞ùËøáÁöÑÁæéÈ£ü","link":"/about/index.html"}],"posts":[{"title":"DolphinSchedulerÊ∫êÁ†ÅÈòÖËØªÊó•ËÆ∞Ôºà‰∏âÔºâÈÄö‰ø°Êú∫Âà∂","text":"Ê¶ÇËø∞DolphinSchedulerÁöÑÈÄö‰ø°Êú∫Âà∂ÊòØÈÄöËøáNettyÊù•ÂÆûÁé∞ÁöÑÔºåÂú®Netty‰∏äÂä†ÂÅö‰∫Ü‰∏Ä‰∫õÂ∞ÅË£ÖÂíåÊäΩË±° NettyÁÆÄ‰ªãÂäüËÉΩ‰ªãÁªçNetty ÊòØ‰∏Ä‰∏™Âü∫‰∫é Java ÁöÑÈ´òÊÄßËÉΩÁΩëÁªúÂ∫îÁî®Ê°ÜÊû∂ÔºåÂπøÊ≥õÁî®‰∫éÂºÄÂèëÈ´òÂπ∂Âèë„ÄÅ‰ΩéÂª∂ËøüÁöÑÁΩëÁªúÊúçÂä°Âô®ÂíåÂÆ¢Êà∑Á´Ø„ÄÇÂÆÉÊèê‰æõ‰∫Ü‰∏ÄÁªÑ‰∏∞ÂØåÁöÑ API ÂíåÂ∑•ÂÖ∑ÔºåÁÆÄÂåñ‰∫ÜÁΩëÁªúÈÄö‰ø°ÁöÑÂºÄÂèëËøáÁ®ãÔºåÁâπÂà´ÊòØÂú®Â§ÑÁêÜÂ§ßÈáèÂπ∂ÂèëËøûÊé•ÂíåÊï∞ÊçÆÊµÅÊó∂„ÄÇ ‰∏∫ÂêÑÁßç‰º†ËæìÁ±ªÂûãÔºàÈòªÂ°ûÂíåÈùûÈòªÂ°ûsocketÔºâÊèê‰æõÁªü‰∏ÄAPI Âü∫‰∫éÁÅµÊ¥ª‰∏îÂèØÊâ©Â±ïÁöÑ‰∫ã‰ª∂Ê®°ÂûãÔºåÂÖÅËÆ∏ÊòéÁ°ÆÂàÜÁ¶ªÂÖ≥Ê≥®ÁÇπ È´òÂ∫¶ÂèØÂÆöÂà∂ÁöÑÁ∫øÁ®ãÊ®°Âûã‚Äî‚ÄîÂçïÁ∫øÁ®ã„ÄÅ‰∏Ä‰∏™ÊàñÂ§ö‰∏™Á∫øÁ®ãÊ±†ÔºàÂ¶Ç SEDAÔºâ ÁúüÊ≠£ÁöÑÊó†ËøûÊé•Êï∞ÊçÆÊä•socketÊîØÊåÅÔºàËá™3.1ÁâàËµ∑Ôºâ Âü∫Á°ÄÊ¶ÇÂøµ table th:first-of-type {width: 20%;} table th:nth-of-type(2) {width: 80%;} Ê¶ÇÂøµ Âê´‰πâ Channel Channel ÊòØ Netty ‰∏≠Áî®‰∫éÁΩëÁªúÈÄö‰ø°ÁöÑÂü∫Êú¨ÊäΩË±°ÔºåË°®Á§∫‰∏Ä‰∏™Âà∞ÁΩëÁªúÂ•óÊé•Â≠óÔºàSocketÔºâÁöÑËøûÊé•„ÄÇÂÆÉÁ±ª‰ºº‰∫é Java NIO ÁöÑ ChannelÔºå‰ΩÜÊèê‰æõ‰∫ÜÊõ¥Â§öÁöÑÈ´òÁ∫ßÂäüËÉΩ„ÄÇChannel ÂèØ‰ª•ÊòØ TCP„ÄÅUDP ÊàñËÄÖÊñá‰ª∂‰º†ËæìÁ≠â‰∏çÂêåÁ±ªÂûãÁöÑËøûÊé• EventLoop EventLoop ÊòØ Netty ‰∏≠ÁöÑ‰∫ã‰ª∂Â§ÑÁêÜÊ†∏ÂøÉ„ÄÇÊØè‰∏™ EventLoop ÈÉΩ‰∏é‰∏Ä‰∏™ÊàñÂ§ö‰∏™ Channel ÂÖ≥ËÅîÔºåË¥üË¥£Â§ÑÁêÜËøô‰∫õ Channel ‰∏äÁöÑÊâÄÊúâ I/O Êìç‰ΩúÔºåÂåÖÊã¨ËØªÂÜô‰∫ã‰ª∂ÁöÑË∞ÉÂ∫¶„ÄÇEventLoop ‰ΩøÁî®ÂçïÁ∫øÁ®ãÊ®°ÂºèÔºåÂèØ‰ª•ÊúâÊïàÂú∞ÈÅøÂÖçÁ∫øÁ®ãÈó¥Á´û‰∫â ChannelHandler ChannelHandler ÊòØÁî®‰∫éÂ§ÑÁêÜ Channel ‰∏äÁöÑ I/O ‰∫ã‰ª∂ÁöÑÁªÑ‰ª∂„ÄÇNetty ÈÄöËøá ChannelHandler ÂÆûÁé∞‰∫ÜÁÅµÊ¥ªÁöÑ‰∫ã‰ª∂Â§ÑÁêÜÊú∫Âà∂„ÄÇÂ∏∏ËßÅÁöÑ ChannelHandler Á±ªÂûãÂåÖÊã¨ ChannelInboundHandler Âíå ChannelOutboundHandlerÔºåÂàÜÂà´Áî®‰∫éÂ§ÑÁêÜÂÖ•Á´ôÂíåÂá∫Á´ôÊï∞ÊçÆ Pipeline Pipeline ÊòØ Netty ‰∏≠ÁöÑ‰∏Ä‰∏™ÈáçË¶ÅÊ¶ÇÂøµÔºåÂÆÉÊòØ ChannelHandler ÁöÑÊúâÂ∫èÈìæË°®„ÄÇÊâÄÊúâ‰∏é Channel Áõ∏ÂÖ≥ÁöÑ‰∫ã‰ª∂ÔºàÂ¶ÇËØª„ÄÅÂÜô„ÄÅËøûÊé•Á≠âÔºâÈÉΩ‰ºöÊ≤øÁùÄ Pipeline ‰æùÊ¨°‰º†ÈÄí„ÄÇÂºÄÂèëËÄÖÂèØ‰ª•Ê†πÊçÆÈúÄË¶ÅÂú® Pipeline ‰∏≠ÊèíÂÖ•‰∏çÂêåÁöÑ ChannelHandler Êù•ÂÆûÁé∞ÂÆöÂà∂ÁöÑÈÄªËæë Bootstrap Bootstrap ÊòØÁî®‰∫éÈÖçÁΩÆÂíåÂêØÂä®ÂÆ¢Êà∑Á´ØÊàñÊúçÂä°Âô®Á´Ø Channel ÁöÑÁ±ª„ÄÇÂÆÉÁÆÄÂåñ‰∫ÜÁΩëÁªúÂ∫îÁî®Á®ãÂ∫èÁöÑÂêØÂä®ËøáÁ®ãÔºåÂºÄÂèëËÄÖÂèØ‰ª•ÈÄöËøá Bootstrap ËÆæÁΩÆÁõ∏ÂÖ≥ÂèÇÊï∞ÔºåÂ¶ÇÁ∫øÁ®ãÊ±†„ÄÅ‰∫ã‰ª∂Â§ÑÁêÜÂô®Á≠â ByteBuf ByteBuf ÊòØ Netty Êèê‰æõÁöÑÁî®‰∫éÈ´òÊïàÂ§ÑÁêÜÂ≠óËäÇÊï∞ÊçÆÁöÑÁºìÂÜ≤Âå∫„ÄÇ‰∏é Java NIO ‰∏≠ÁöÑ ByteBuffer ‰∏çÂêåÔºåByteBuf Êèê‰æõ‰∫ÜÊõ¥Â§öÁöÑÊìç‰ΩúÊñπÊ≥ïÔºåÂπ∂‰∏îÊîØÊåÅÂä®ÊÄÅÊâ©Â±ï„ÄÅÂºïÁî®ËÆ°Êï∞Á≠âÁâπÊÄßÔºåÊûÅÂ§ßÂú∞ÊèêÈ´ò‰∫ÜÂ§ÑÁêÜ‰∫åËøõÂà∂Êï∞ÊçÆÁöÑÊïàÁéá Future&amp;Promise Future Âíå Promise ÊòØ Netty ‰∏≠ÁöÑÂºÇÊ≠•ÁºñÁ®ãÊ®°ÂûãÔºåÁî®‰∫éË°®Á§∫ÂºÇÊ≠•Êìç‰ΩúÁöÑÁªìÊûú„ÄÇFuture Ë°®Á§∫‰∏Ä‰∏™Â∞öÊú™ÂÆåÊàêÁöÑÊìç‰ΩúÁªìÊûúÔºåËÄå Promise ÂàôÊòØÂèØ‰ª•ÊâãÂä®ËÆæÁΩÆÁªìÊûúÁöÑ Future„ÄÇËøô‰∏§‰∏™Êé•Âè£Â∏ÆÂä©ÂºÄÂèëËÄÖÂ§ÑÁêÜÂºÇÊ≠•‰ªªÂä°ÁöÑÂõûË∞ÉÈÄªËæë Transport Transport ÊòØ Netty ‰∏≠ÁöÑÂ∫ïÂ±ÇÊäΩË±°ÔºåË¥üË¥£ÂÆûÁé∞ÂÖ∑‰ΩìÁöÑÁΩëÁªúÂçèËÆÆÔºàÂ¶Ç TCP„ÄÅUDPÔºâÁöÑ‰º†ËæìÊú∫Âà∂„ÄÇ‰∏çÂêåÁöÑ Transport ÂÆûÁé∞ÂèØ‰ª•Êúâ‰∏çÂêåÁöÑ I/O Ê®°ÂûãÔºàÂ¶Ç NIO„ÄÅEpoll Á≠âÔºâÔºåÈÄÇÁî®‰∫é‰∏çÂêåÁöÑÊìç‰ΩúÁ≥ªÁªüÂíåÊÄßËÉΩÈúÄÊ±Ç ÈÄö‰ø°Êú∫Âà∂ÂÆûÁé∞ÂÖ≥ÈîÆÁ±ªÂú®MasterServer„ÄÅWorkerServer‰∏≠ÂàÜÂà´ÈÉΩÂ≠òÂú®‰∏Ä‰∏™RpcServerÂíåRpcClientÔºåÁî®‰∫é‰Ωú‰∏∫RPCÁöÑÊúçÂä°Á´ØÂíåÂÆ¢Êà∑Á´Ø Â∫èÂàóÂåñ‰∏éÂèçÂ∫èÂàóÂåñMessgaeÁöÑÂ∫èÂàóÂåñ‰∏éÂèçÂ∫èÂàóÂåñ ‰∫ã‰ª∂Â§ÑÁêÜÂô®Â¶Ç‰ΩïÊò†Â∞ÑÂà∞ÂØπÂ∫îÁöÑProcessorÂ§ÑÁêÜÔºàÂÄºÂæóÂÄüÈâ¥Ôºâ##","link":"/2024/08/23/DolphinScheduler%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB%E6%97%A5%E8%AE%B0%EF%BC%88%E4%B8%89%EF%BC%89%E9%80%9A%E4%BF%A1%E6%9C%BA%E5%88%B6/"},{"title":"DolphinSchedulerÊ∫êÁ†ÅÈòÖËØªÊó•ËÆ∞Ôºà‰∏ÄÔºâÂºÄÂèëÁéØÂ¢ÉÊê≠Âª∫","text":"Á≥ªÁªüÁéØÂ¢É ÁéØÂ¢É ÁâàÊú¨ Á≥ªÁªü macOS 12.2.1/m1 pro JRE Zulu 8.62.0.19-CA-macos-aarch64 Maven 3.8.6 Node 18.4.0 Pnpm 7.3.0 Zookeeper 3.8.4 MySQL 8.0.28 DolphinScheduler 3.2.0 Êê≠Âª∫È°πÁõÆÂºÄÂèëÁéØÂ¢ÉÈ°πÁõÆ‰∏ãËΩΩ‰ªégithub‰∏ãËΩΩÊ∫êÁ†Å‰ªédolphinschedulerÊ∫êÁ†Å‰ªìÂ∫ì‰∏ãËΩΩÊ∫êÁ†Å 12git clone https://github.com/apache/dolphinschedulergit checkout 3.2.0 # ÂàáÊç¢Âà∞3.2.0ÂàÜÊîØ Zookeeper‰∏ãËΩΩ‰∫åËøõÂà∂ÂèØÊâßË°åÂåÖ ‰∏ãËΩΩZookeeper 3.8.4‰∫åËøõÂà∂ÂèØÊâßË°åÂåÖ ÂàõÂª∫Êñá‰ª∂&amp;Êó•ÂøóÁõÆÂΩï Ëß£ÂéãÂéãÁº©ÂåÖÔºåÂàõÂª∫data„ÄÅdatalogÁõÆÂΩï 123cd /Users/jiashaoqi/plugin/zookeepertar -zxvf apache-zookeeper-3.8.4-bin.tar.gzmkdir data datalog ‰øÆÊîπÈÖçÁΩÆÊñá‰ª∂Â∞ÜconfÁõÆÂΩï‰∏ãÁöÑzoo_sample.cfgÊñá‰ª∂ÔºåÂ§çÂà∂‰∏Ä‰ªΩÔºåÈáçÂëΩÂêç‰∏∫zoo.cfgÔºå‰øÆÊîπÂÖ∂‰∏≠Êï∞ÊçÆÂíåÊó•ÂøóÁöÑÈÖçÁΩÆÔºåÂ¶ÇÔºö 123cd ./apache-zookeeper-3.8.4-bin/confcp zoo_sample.cfg zoo.cfgvi zoo.cfg Ê∑ªÂä†ÁéØÂ¢ÉÂèòÈáè12vi ~/.bash_profile # Ê∑ªÂä†ÂÜÖÂÆπÂ¶Ç‰∏ãsource ~/.bash_profile ÂêØÂä®Zookeeper1zkServer.sh start # ËßÅÂà∞Â¶ÇÂõæÊâÄÁ§∫Âç≥‰∏∫ÂêØÂä®ÊàêÂäü MySQLÊï∞ÊçÆÂ∫ìÈÖçÁΩÆÂàùÂßãÂåñÊï∞ÊçÆÂ∫ìÂèäË¥¶Âè∑ÂàõÂª∫ÂÆåÊñ∞Êï∞ÊçÆÂ∫ìdolphinschedulerÂêéÔºåÂ∞Üdolphinscheduler/dolphinscheduler-dao/src/main/resources/sql/dolphinscheduler_mysql.sql‰∏ãÁöÑsqlÊñá‰ª∂Áõ¥Êé•Âú®MySQL‰∏≠ËøêË°åÔºåÂÆåÊàêÊï∞ÊçÆÂ∫ìÂàùÂßãÂåñ 1234567891011121314151617181920mysql&gt; create database dolphinscheduler;Query OK, 1 row affected (0.01 sec)mysql&gt; create user 'dolphin'@'localhost' identified by 'nihplod';Query OK, 0 rows affected (0.01 sec)mysql&gt; grant all privileges on dolphinscheduler.* to 'dolphin'@'localhost';Query OK, 0 rows affected (0.00 sec)mysql&gt; flush privileges;Query OK, 0 rows affected (0.00 sec)mysql&gt; use dolphinscheduler;Database changedmysql&gt; source /Users/jiashaoqi/workspace/idea/dolphinscheduler/dolphinscheduler-dao/src/main/resources/sql/dolphinscheduler_mysql.sql;Query OK, 1 row affected (0.00 sec)...Query OK, 1 row affected (0.00 sec) ÂêéÁ´ØMaven‰æùËµñ‰∏ãËΩΩÈÄöËøáideaÊâìÂºÄÈ°πÁõÆÔºå‰∏ãËΩΩ‰æùËµñÔºåËøôÂèØËÉΩÈúÄË¶Å‰∏ÄÊÆµÊó∂Èó¥ Ê≥®ÊÑèÔºömaven‰∏ãËΩΩ‰æùËµñÂèØËÉΩ‰ºöÂá∫Áé∞ÈóÆÈ¢òÔºåÂØπ‰∫é‰∏ãËΩΩÂá∫ÈîôÁöÑ‰æùËµñÊàñËÄÖÊèí‰ª∂ÔºåÂèØ‰ª•Âà∞Êú¨Âú∞maven‰ªìÂ∫ìÁõÆÂΩï‰∏ãÂà†Èô§ÂØπÂ∫îÁöÑÂ≠êÁõÆÂΩïÈáçÊñ∞‰∏ãËΩΩÔºåÂ¶ÇÂú®‰∏ãËΩΩ‰æùËµñÂêéÁºñËØëÊó∂ÂèëÁîü‰∫ÜÂ¶Ç‰∏ãÂºÇÂ∏∏ 1java: ËØªÂèñ/Users/jiashaoqi/plugin/maven/apache-maven-3.8.6/repo/io/fabric8/kubernetes-model-core/5.10.2/kubernetes-model-core-5.10.2.jarÊó∂Âá∫Èîô; zip file is empty ÊâÄ‰ª•ÊâãÂä®‰∏ãËΩΩ‰æùËµñkubernetes-model-core 12rm -rfv /Users/jiashaoqi/plugin/maven/apache-maven-3.8.6/repo/io/fabric8/kubernetes-model-core/5.10.2mvn dependency:get -DgroupId=io.fabric8 -DartifactId=kubernetes-model-core -Dversion=5.10.2 ‰øÆÊîπÊï∞ÊçÆÂ∫ìÈÖçÁΩÆ Â∞Üdolphinscheduler-bom/pom.xmlÊñá‰ª∂‰∏≠mysql-connector-java‰æùËµñÁöÑscope‰øÆÊîπ‰∏∫compile Â∞ÜÂ¶Ç‰∏ãÈÖçÁΩÆÊñá‰ª∂‰∏≠ÁöÑmysqlÁöÑdatasourceÈÖçÁΩÆ‰∏∫Â¶Ç‰∏ãÂÜÖÂÆπ12345dolphinscheduler-master/src/main/resources/application.yaml:151dolphinscheduler-alert/dolphinscheduler-alert-server/src/main/resources/application.yaml:93dolphinscheduler-api/src/main/resources/application.yaml:229dolphinscheduler-standalone-server/src/main/resources/application.yaml:305dolphinscheduler-tools/src/main/resources/application.yaml:49 ÈÖçÁΩÆÂêç ÈÖçÁΩÆÂÄº datasource.driver-class-name com.mysql.cj.jdbc.Driver datasource.url jdbc:mysql://127.0.0.1:3306/dolphinscheduler datasource.username dolphin datasource.password nihplod ‰øÆÊîπÊó•ÂøóÁ∫ßÂà´‰∏∫‰ª•‰∏ãÈÖçÁΩÆÂ¢ûÂä†‰∏ÄË°åÂÜÖÂÆπ ‰ΩøÊó•ÂøóËÉΩÂú®ÂëΩ‰ª§Ë°å‰∏≠ÊòæÁ§∫ 123dolphinscheduler-master/src/main/resources/logback-spring.xmldolphinscheduler-worker/src/main/resources/logback-spring.xmldolphinscheduler-api/src/main/resources/logback-spring.xml 12345&lt;root level=&quot;INFO&quot;&gt;+ &lt;appender-ref ref=&quot;STDOUT&quot;/&gt; &lt;appender-ref ref=&quot;APILOGFILE&quot;/&gt; &lt;appender-ref ref=&quot;SKYWALKING-LOG&quot;/&gt;&lt;/root&gt; ÂèØ‰ª•ÂÜçÂú®STDOUTËøô‰∏™appenderÁöÑpattern‰∏äÂ•ó‰∏Ä‰∏™%clr(...)ÔºåËÆ©Êó•ÂøóÂú®ÊéßÂà∂Âè∞‰∏äÈ´ò‰∫ÆÊòæÁ§∫ÔºåÂ¶Ç 12345678910111213&lt;configuration scan=&quot;true&quot; scanPeriod=&quot;120 seconds&quot;&gt;+ &lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot; /&gt; &lt;!-- ... --&gt; &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt; &lt;encoder&gt; &lt;pattern&gt;+ %clr([%level] %date{yyyy-MM-dd HH:mm:ss.SSS Z} %logger{96}:[%line] - [WorkflowInstance-%X{workflowInstanceId:-0}][TaskInstance-%X{taskInstanceId:-0}] - %msg%n) &lt;/pattern&gt; &lt;charset&gt;UTF-8&lt;/charset&gt; &lt;/encoder&gt; &lt;/appender&gt; &lt;!-- ... --&gt;&lt;/configuration&gt; ÁºñËØëÊ∫ê‰ª£Á†Å ËøêË°åÂêéÁ´ØÊúçÂä°ÂèÇËÄÉDolphinScheduler ÊôÆÈÄöÂºÄÂèëÊ®°ÂºèÈúÄË¶ÅÂêØÂä®‰∏â‰∏™ÊúçÂä°ÔºåÂåÖÊã¨ MasterServerÔºåWorkerServerÔºåApiApplicationServer MasterServerÔºöÂú® Intellij IDEA ‰∏≠ÊâßË°å org.apache.dolphinscheduler.server.master.MasterServer ‰∏≠ÁöÑ main ÊñπÊ≥ïÔºåÂπ∂ÈÖçÁΩÆ VM Options -Dlogging.config=classpath:logback-spring.xml -Ddruid.mysql.usePingMethod=false -Dspring.profiles.active=mysql WorkerServerÔºöÂú® Intellij IDEA ‰∏≠ÊâßË°å org.apache.dolphinscheduler.server.worker.WorkerServer ‰∏≠ÁöÑ main ÊñπÊ≥ïÔºåÂπ∂ÈÖçÁΩÆ VM Options -Dlogging.config=classpath:logback-spring.xml -Ddruid.mysql.usePingMethod=false -Dspring.profiles.active=mysql ApiApplicationServerÔºöÂú® Intellij IDEA ‰∏≠ÊâßË°å org.apache.dolphinscheduler.api.ApiApplicationServer ‰∏≠ÁöÑ main ÊñπÊ≥ïÔºåÂπ∂ÈÖçÁΩÆ VM Options -Dlogging.config=classpath:logback-spring.xml -Dspring.profiles.active=api,mysql„ÄÇÂêØÂä®ÂÆåÊàêÂèØ‰ª•ÊµèËßà Open API ÊñáÊ°£ÔºåÂú∞ÂùÄ‰∏∫ http://localhost:12345/dolphinscheduler/swagger-ui/index.html ÂâçÁ´ØÂÆâË£Ö‰æùËµñÔºåËøêË°åÂâçÁ´ØÊúçÂä°123cd dolphinscheduler-uipnpm installpnpm run dev Êà™Ê≠¢ÁõÆÂâçÔºåÂâçÂêéÁ´ØÂ∑≤ÊàêÂäüËøêË°åËµ∑Êù•ÔºåÊµèËßàÂô®ËÆøÈóÆ http://localhost:5173 ÔºåÂπ∂‰ΩøÁî®ÈªòËÆ§Ë¥¶Êà∑ÂØÜÁ†Å admin/dolphinscheduler123 Âç≥ÂèØÂÆåÊàêÁôªÂΩï ÂÆåÊàêÁéØÂ¢ÉÊê≠Âª∫Êê≠Âª∫ÊàêÂäüÊïàÊûú","link":"/2024/07/27/Dolphinscheduler%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB%E6%97%A5%E8%AE%B0%EF%BC%88%E4%B8%80%EF%BC%89%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"},{"title":"DolphinSchedulerÊ∫êÁ†ÅÈòÖËØªÊó•ËÆ∞Ôºà‰∫åÔºâMasterServerÂ∑•‰ΩúÊµÅË∞ÉÂ∫¶Ê∫êÁ†ÅËß£Êûê","text":"Á≥ªÁªüÊû∂ÊûÑ MasterServer MasterServerÈááÁî®ÂàÜÂ∏ÉÂºèÊó†‰∏≠ÂøÉËÆæËÆ°ÁêÜÂøµÔºåMasterServer‰∏ªË¶ÅË¥üË¥£ DAG ‰ªªÂä°ÂàáÂàÜ„ÄÅ‰ªªÂä°Êèê‰∫§ÁõëÊéßÔºåÂπ∂ÂêåÊó∂ÁõëÂê¨ÂÖ∂ÂÆÉMasterServerÂíåWorkerServerÁöÑÂÅ•Â∫∑Áä∂ÊÄÅ„ÄÇ MasterServerÊúçÂä°ÂêØÂä®Êó∂ÂêëZookeeperÊ≥®ÂÜå‰∏¥Êó∂ËäÇÁÇπÔºåÈÄöËøáÁõëÂê¨Zookeeper‰∏¥Êó∂ËäÇÁÇπÂèòÂåñÊù•ËøõË°åÂÆπÈîôÂ§ÑÁêÜ„ÄÇ MasterServerÂü∫‰∫énettyÊèê‰æõÁõëÂê¨ÊúçÂä°„ÄÇ ËØ•ÊúçÂä°ÂÜÖ‰∏ªË¶ÅÂåÖÂê´: DistributedQuartz: ÂàÜÂ∏ÉÂºèË∞ÉÂ∫¶ÁªÑ‰ª∂Ôºå‰∏ªË¶ÅË¥üË¥£ÂÆöÊó∂‰ªªÂä°ÁöÑÂêØÂÅúÊìç‰ΩúÔºåÂΩìquartzË∞ÉËµ∑‰ªªÂä°ÂêéÔºåMasterÂÜÖÈÉ®‰ºöÊúâÁ∫øÁ®ãÊ±†ÂÖ∑‰ΩìË¥üË¥£Â§ÑÁêÜ‰ªªÂä°ÁöÑÂêéÁª≠Êìç‰ΩúÔºõ MasterSchedulerService: ÊòØ‰∏Ä‰∏™Êâ´ÊèèÁ∫øÁ®ãÔºåÂÆöÊó∂Êâ´ÊèèÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑt_ds_commandË°®ÔºåÊ†πÊçÆ‰∏çÂêåÁöÑÂëΩ‰ª§Á±ªÂûãËøõË°å‰∏çÂêåÁöÑ‰∏öÂä°Êìç‰ΩúÔºõ WorkflowExecuteRunnable: ‰∏ªË¶ÅÊòØË¥üË¥£DAG‰ªªÂä°ÂàáÂàÜ„ÄÅ‰ªªÂä°Êèê‰∫§ÁõëÊéß„ÄÅÂêÑÁßç‰∏çÂêå‰∫ã‰ª∂Á±ªÂûãÁöÑÈÄªËæëÂ§ÑÁêÜÔºõ TaskExecuteRunnable: ‰∏ªË¶ÅË¥üË¥£‰ªªÂä°ÁöÑÂ§ÑÁêÜÂíåÊåÅ‰πÖÂåñÔºåÂπ∂ÁîüÊàê‰ªªÂä°‰∫ã‰ª∂Êèê‰∫§Âà∞Â∑•‰ΩúÊµÅÁöÑ‰∫ã‰ª∂ÈòüÂàóÔºõ EventExecuteService: ‰∏ªË¶ÅË¥üË¥£Â∑•‰ΩúÊµÅÂÆû‰æãÁöÑ‰∫ã‰ª∂ÈòüÂàóÁöÑËΩÆËØ¢Ôºõ StateWheelExecuteThread: ‰∏ªË¶ÅË¥üË¥£Â∑•‰ΩúÊµÅÂíå‰ªªÂä°Ë∂ÖÊó∂„ÄÅ‰ªªÂä°ÈáçËØï„ÄÅ‰ªªÂä°‰æùËµñÁöÑËΩÆËØ¢ÔºåÂπ∂ÁîüÊàêÂØπÂ∫îÁöÑÂ∑•‰ΩúÊµÅÊàñ‰ªªÂä°‰∫ã‰ª∂Êèê‰∫§Âà∞Â∑•‰ΩúÊµÅÁöÑ‰∫ã‰ª∂ÈòüÂàóÔºõ FailoverExecuteThread: ‰∏ªË¶ÅË¥üË¥£MasterÂÆπÈîôÂíåWorkerÂÆπÈîôÁöÑÁõ∏ÂÖ≥ÈÄªËæëÔºõ Ê†∏ÂøÉÊ¶ÇÂøµ table th:first-of-type {width: 25%;} table th:nth-of-type(2) {width: 75%;} Ê¶ÇÂøµ Âê´‰πâ Process Definition Â∑•‰ΩúÊµÅÂÆö‰πâ Process Instance Â∑•‰ΩúÊµÅÂÆû‰æãÔºåÂÆûÈôÖËøêË°åÊó∂‰ºöË¢´ÂåÖË£Ö‰∏∫WorkflowExecuteRunnable Command ‰∫ã‰ª∂Ê∂àÊÅØ ÂÖ≥ÈîÆÊµÅÁ®ãÂàÜÊûê ‰ª•‰∏ãÊµÅÁ®ãÈÉΩÂú®MasterServer‰∏≠ÊâßË°åÔºå‰∏çÂÜçÂú®Ê†áÈ¢ò‰∏≠ËµòËø∞ ÊãâÂèñ‰∫ã‰ª∂MasterSchedulerBootstrapÊòØÁî®‰∫é‰ªéMySQL‰∏≠ÊãâÂèñ‰∫ã‰ª∂ÔºàCommandÔºâÁöÑ‰∏ªË¶ÅÁ∫øÁ®ãÔºåÂú®MasterServerÂêØÂä®Êó∂ÂêØÂä®ÔºåÈÄöËøáfindCommands()ÊñπÊ≥ïÊâæÂà∞ÂæÖÊâßË°åÁöÑ‰∫ã‰ª∂ÔºåËøôÈáåÁöÑ‰∫ã‰ª∂‰∏ç‰ªÖÈôê‰∫éÂºÄÂßãÊâßË°åÂ∑•‰ΩúÊµÅÔºåËøòÊúâÂÖ∂‰ªñÁ±ªÂûãÔºåÂÖ∑‰ΩìÂèÇËÄÉCommandTypeÁöÑÂÆö‰πâÔºåÂ¶Ç‰∏ã ËÄåÊãâÂèñ‰∫ã‰ª∂ÊµÅÁ®ã‰∏≠ÔºåÂ¶Ç‰∏ã ÈááÁî®Êó†‰∏≠ÂøÉËäÇÁÇπËÆæËÆ°ÔºåÊâÄ‰ª•ÊØè‰∏™ËäÇÁÇπÈÄöËøáÂèñÊ®°ÁöÑÊñπÂºèËé∑ÂèñÂΩìÂâçËäÇÁÇπÂ∫îËØ•Â§ÑÁêÜÁöÑ‰∫ã‰ª∂„ÄÇËäÇÁÇπÊÄªÊï∞ÂíåÂΩìÂâçËäÇÁÇπÁöÑÂ∫èÂè∑ÊòØÂ¶Ç‰ΩïÁîüÊàêÁöÑÂë¢Ôºü‰ªéÊ≥®ÂÜå‰∏≠ÂøÉÔºàZK/ETCD/JDBCÔºâËé∑ÂèñÊâÄÊúâËäÇÁÇπÂàóË°®ÔºåÂú®Êú¨Âú∞ÁîüÊàêÂ∫èÂè∑ÔºåËØ¶ÊÉÖÂèÇËÄÉorg.apache.dolphinscheduler.service.queue.MasterPriorityQueue.ServerComparator Â§ÑÁêÜ‰∫ã‰ª∂ÔºåÂàõÂª∫Â∑•‰ΩúÊµÅÂ§ÑÁêÜ‰∫ã‰ª∂ÔºåÂàõÂª∫Â∑•‰ΩúÊµÅÂú®ÔºåÂ¶Ç‰∏ã ËÄåÂàõÂª∫Â∑•‰ΩúÊµÅÂÖ∑‰ΩìÂàÜ‰∏∫Â¶Ç‰∏ãÂá†‰∏™Èò∂ÊÆµÔºåProcessDefinition -&gt; ProcessInstance (WorkflowInstance) -&gt; WorkflowExecuteContext -&gt; WorkflowExecuteRunnableÔºå‰∫ßÁîüWorkflowExecuteRunnableÂÆû‰æãÂç≥‰∏∫ÊúÄÁªàÈúÄË¶ÅË∞ÉÂ∫¶ÁöÑÂ∑•‰ΩúÊµÅ 1234567891011121314// ProcessDefinition -&gt; ProcessInstance(WorkflowInstance)org.apache.dolphinscheduler.server.master.runner.WorkflowExecuteContextFactory#createWorkflowExecuteRunnableContext:56org.apache.dolphinscheduler.server.master.runner.WorkflowExecuteContextFactory#createWorkflowInstance:81org.apache.dolphinscheduler.service.process.ProcessServiceImpl#handleCommand:317org.apache.dolphinscheduler.service.process.ProcessServiceImpl#constructProcessInstance:768org.apache.dolphinscheduler.service.process.ProcessServiceImpl#generateNewProcessInstance:586// ProcessInstance(WorkflowInstance) -&gt; WorkflowExecuteContextorg.apache.dolphinscheduler.server.master.runner.WorkflowExecuteRunnableFactory#createWorkflowExecuteRunnable:79org.apache.dolphinscheduler.server.master.runner.WorkflowExecuteContextFactory#createWorkflowExecuteRunnableContext:67// WorkflowExecuteContext -&gt; WorkflowExecuteRunnableorg.apache.dolphinscheduler.server.master.runner.MasterSchedulerBootstrap#run:137org.apache.dolphinscheduler.server.master.runner.WorkflowExecuteRunnableFactory#createWorkflowExecuteRunnable:80 Â∑•‰ΩúÊµÅË¢´ÂàõÂª∫Âá∫Êù•‰πãÂêé‰ºöÁîüÊàê‰∏Ä‰∏™Â∑•‰ΩúÊµÅ‰∫ã‰ª∂WorkflowEventÔºåÊîæÂú®ÂÜÖÂ≠òÁöÑÈòªÂ°ûÈòüÂàóworkflowEventQueueÂΩì‰∏≠ Ë∞ÉÂ∫¶Â∑•‰ΩúÊµÅMasterSchedulerBootstrapÁ∫øÁ®ãÂêØÂä®ÂêéÔºåËøò‰ºöÂÜçÂêØÂä®‰∏Ä‰∏™WorkflowEventLooperÂ∑•‰ΩúÊµÅ‰∫ã‰ª∂Â§ÑÁêÜÁ∫øÁ®ãÔºåÁî®‰∫éÊ∂àË¥π‰∏ä‰∏ÄÊ≠•ÊîæÂÖ•ÂÜÖÂ≠òÁöÑÈòªÂ°ûÈòüÂàóworkflowEventQueueÂΩì‰∏≠ÁöÑÂ∑•‰ΩúÊµÅ‰∫ã‰ª∂WorkflowEvent WorkflowEventLooperÁ∫øÁ®ã‰ºö‰ΩøÁî®WorkflowEventHandlerÂ§ÑÁêÜÂ∑•‰ΩúÊµÅ‰∫ã‰ª∂ WorkflowEventHandler‰ºöÂ∞ÜÈÄöËøáË∞ÉÁî®WorkflowExecuteRunnableÂ∑•‰ΩúÊµÅÁöÑcall()ÊñπÊ≥ïÔºåÂ∞ÜÂ∑•‰ΩúÊµÅÁöÑÂêØÂä®ÂºÇÊ≠•Êèê‰∫§Âà∞WorkflowExecuteThreadPoolÁ∫øÁ®ãÊ±†‰∏≠ÊâßË°å ÊúÄÁªàË∞ÉÁî®Â∑•‰ΩúÊµÅÁöÑsubmitPostNode()ÊñπÊ≥ïÔºåÂºÄÂßãÊâßË°åÂ∑•‰ΩúÊµÅÁöÑËäÇÁÇπ Ëß£ÊûêÂ∑•‰ΩúÊµÅËäÇÁÇπËé∑ÂèñÂæÖÊèê‰∫§ÁöÑTaskNodeÂàóË°®submitTaskNodeListÔºåÂπ∂ÁîüÊàêÂØπÂ∫îÁöÑTaskInstanceÂÆû‰æãTODO Ëß£ÊûêËøáÁ®ãÊØîÊÉ≥Ë±°ÁöÑÂ§çÊùÇÔºåÈúÄË¶ÅËØ¶Ëß£ÂàÜÊûê‰∏ã Â∞Ü‰ªªÂä°Ê∑ªÂä†Âà∞ÂÜÖÂ≠ò‰∏≠ÁöÑstandby‰ºòÂÖàÁ∫ßÈòüÂàóÔºàÂ†ÜÔºâreadyToSubmitTaskQueue‰∏≠ÔºåÂπ∂Âú®ÂºÄÂßãÊèê‰∫§‰ªªÂä° ‰πãÂêéÂàÜÂèëÊ≠•È™§ÊØîËæÉÂ§çÊùÇÔºåÂÖ∑‰ΩìÊãÜËß£Â¶Ç‰∏ã 1234567891011121314// ÂºÄÂßãÊèê‰∫§‰ªªÂä°org.apache.dolphinscheduler.server.master.runner.WorkflowExecuteRunnable#submitStandByTask:1967// ÁîüÊàê‰ªªÂä°ÂÆû‰æãÔºàTaskExecuteRunnableÔºâorg.apache.dolphinscheduler.server.master.runner.WorkflowExecuteRunnable#executeTask:956// ÂºÄÂßãÂàÜÂèë‰ªªÂä°ÂÆû‰æãorg.apache.dolphinscheduler.server.master.runner.WorkflowExecuteRunnable#executeTask:993// ÂàÜÂèëorg.apache.dolphinscheduler.server.master.runner.WorkflowExecuteRunnable#tryToDispatchTaskInstance:1011// ‰ΩøÁî®TaskDispatchOperatorÂàÜÂèëorg.apache.dolphinscheduler.server.master.runner.execute.DefaultTaskExecuteRunnable#dispatch:41 // Â∞Ü‰ªªÂä°Ê∑ªÂä†Âà∞globalTaskDispatchWaitingQueue‰∏≠org.apache.dolphinscheduler.server.master.runner.operator.TaskDispatchOperator#handle:34// GlobalTaskDispatchWaitingQueueLooperÁ∫øÁ®ãËΩÆËØ¢queueÔºå‰ΩøÁî®BaseTaskDispatcherÂàÜÂèë‰ªªÂä°ÂÆû‰æãÁªôworkerorg.apache.dolphinscheduler.server.master.runner.GlobalTaskDispatchWaitingQueueLooper#run:79 ÊúÄÂêé‰ΩøÁî®ÊâæÂà∞ÂèØÁî®workerËäÇÁÇπÔºåÈÄöËøárpcÂêØÂä®ÂæÖÊâßË°å‰ªªÂä°","link":"/2024/07/28/DolphinScheduler%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB%E6%97%A5%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89MasterServer%E5%B7%A5%E4%BD%9C%E6%B5%81%E8%B0%83%E5%BA%A6%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/"},{"title":"Akka‰ΩøÁî®ÊïôÁ®ã","text":"Akka ÊòØ‰∏Ä‰∏™Áî® Scala ÁºñÂÜôÁöÑÂ∫ìÔºåÁî®‰∫éÂú® JVM Âπ≥Âè∞‰∏äÁÆÄÂåñÁºñÂÜôÂÖ∑ÊúâÂèØÂÆπÈîôÁöÑ„ÄÅÈ´òÂèØ‰º∏Áº©ÊÄßÁöÑ Java Âíå Scala ÁöÑ Actor Ê®°ÂûãÂ∫îÁî®ÔºåÂÖ∂ÂêåÊó∂Êèê‰æõ‰∫ÜJava Âíå Scala ÁöÑÂºÄÂèëÊé•Âè£„ÄÇAkka ÂÖÅËÆ∏Êàë‰ª¨‰∏ìÊ≥®‰∫éÊª°Ë∂≥‰∏öÂä°ÈúÄÊ±ÇÔºåËÄå‰∏çÊòØÁºñÂÜôÂàùÁ∫ß‰ª£Á†Å„ÄÇÂú® Akka ‰∏≠ÔºåActor ‰πãÈó¥ÈÄö‰ø°ÁöÑÂîØ‰∏ÄÊú∫Âà∂Â∞±ÊòØÊ∂àÊÅØ‰º†ÈÄí„ÄÇAkka ÂØπ Actor Ê®°ÂûãÁöÑ‰ΩøÁî®Êèê‰æõ‰∫Ü‰∏Ä‰∏™ÊäΩË±°Á∫ßÂà´Ôºå‰ΩøÂæóÁºñÂÜôÊ≠£Á°ÆÁöÑÂπ∂Âèë„ÄÅÂπ∂Ë°åÂíåÂàÜÂ∏ÉÂºèÁ≥ªÁªüÊõ¥Âä†ÂÆπÊòì„ÄÇActor Ê®°ÂûãË¥ØÁ©ø‰∫ÜÊï¥‰∏™ Akka Â∫ìÔºå‰∏∫Êàë‰ª¨Êèê‰æõ‰∫Ü‰∏ÄËá¥ÁöÑÁêÜËß£Âíå‰ΩøÁî®ÂÆÉ‰ª¨ÁöÑÊñπÊ≥ï ActorsIntroduction to ActorsÂæÖË°•ÂÖÖ","link":"/2022/07/02/Akka%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/"},{"title":"FlinkÊ∫êÁ†ÅÁºñËØë","text":"ÂâçË®ÄÂ≠¶‰π†‰∏Ä‰∏ãFlinkÁöÑÊâßË°åÂéüÁêÜÔºåÈúÄË¶ÅÂú®Êú¨Âú∞ÁºñËØëÊ∫êÁ†ÅÂ•ΩdebugËøêË°å„ÄÇ ÁºñËØëÁéØÂ¢É ÁéØÂ¢É ÁâàÊú¨ Á≥ªÁªü m1 pro macbook pro 14 JRE Zulu 8.62.0.19-CA-macos-aarch64 Flink release-1.12.7-rc1 ÁºñËØëËøáÁ®ã1mvn clean package -DskipTests -Dhadoop.version=2.7.1 ÂèÇËÄÉ‰∏ãBuilding Apache Flink from Source ÁºñËØëËøáÁ®ã‰∏≠‰∫ßÁîüÂ¶Ç‰∏ãÂºÇÂ∏∏Âπ∂Ëß£ÂÜ≥ Êä•ÈîôÔºöÂÆâË£ÖnodeÂíånpmÂ§±Ë¥•1[ERROR] Failed to execute goal com.github.eirslett:frontend-maven-plugin:1.6:install-node-and-npm (install node and npm) on project flink-runtime-web_2.11: Could not download Node.js: Could not download https://nodejs.org/dist/v10.9.0/node-v10.9.0-darwin-arm64.tar.gz: nodejs.org:443 failed to respond -&gt; [Help 1] Ëß£ÂÜ≥ÊñπÊ°àÔºöÂèÇËÄÉeirslett/frontend-maven-plugin issue 952ÔºåFLINK-23230ÊèêÂà∞ÁöÑÈóÆÈ¢ò‰øÆÊîπflink/flink-runtime-web/pom.xmlÊñá‰ª∂‰∏≠frontend-maven-pluginÁöÑÁâàÊú¨‰∏∫1.11.0ÔºåÂèëÁé∞ËøòÊòØÊúâ443ÂºÇÂ∏∏ÔºåÂêéÊù•ÂèëÁé∞ÊòØmavenÁöÑsettings.xml‰∏≠ÈÖçÁΩÆÁöÑproxyËµ∞ÁöÑÊòØsock5Ôºå‰øÆÊîπÊàêhttp‰ª£ÁêÜÂêéÊÅ¢Â§çÊ≠£Â∏∏","link":"/2022/07/03/Flink%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91/"},{"title":"MySQLÂÆûÊàò45ËÆ≤-ÈòÖËØªÁ¨îËÆ∞","text":"SQLÊü•ËØ¢ËØ≠Âè•ÁöÑÊâßË°åÊâßË°åÊµÅÁ®ãÂ¶Ç‰∏ãÂÖ∑‰ΩìÊãÜËß£Â¶Ç‰∏ãÔºå ËøûÊé•Âô® ÈïøËøûÊé•ÊòØÊåáËøûÊé•ÊàêÂäüÂêéÔºåÂ¶ÇÊûúÂÆ¢Êà∑Á´ØÊåÅÁª≠ÊúâËØ∑Ê±ÇÔºåÂàô‰∏ÄÁõ¥‰ΩøÁî®Âêå‰∏Ä‰∏™ËøûÊé•„ÄÇÁü≠ËøûÊé•ÂàôÊòØÊåáÊØèÊ¨°ÊâßË°åÂÆåÂæàÂ∞ëÁöÑÂá†Ê¨°Êü•ËØ¢Â∞±Êñ≠ÂºÄËøûÊé•Ôºå‰∏ãÊ¨°Êü•ËØ¢ÂÜçÈáçÊñ∞Âª∫Á´ã‰∏Ä‰∏™„ÄÇ‰ΩøÁî®ÈïøËøûÊé•ÂèØËÉΩ‰ºöÂØºËá¥MySQLÂç†Áî®ÂÜÖÂ≠òÂø´ÈÄü‰∏äÊ∂®ÔºåÂéüÂõ†ÊòØÊâßË°åËøáÁ®ã‰∏≠‰∏¥Êó∂‰ΩøÁî®ÁöÑÂÜÖÂ≠òÊòØÁÆ°ÁêÜÂú®ËøûÊé•ÂØπË±°ÈáåÈù¢ÁöÑÔºåËøô‰∫õËµÑÊ∫ê‰ºöÂú®ËøûÊé•Êñ≠ÂºÄÁöÑÊó∂ÂÄôÊâçÈáäÊîæ„ÄÇËß£ÂÜ≥ÊñπÊ°àÊúâ‰∏§‰∏™ ÂÆöÊúüÊñ≠ÂºÄÈïøËøûÊé• MySQL 5.7ÊàñÊõ¥Êñ∞ÁâàÊú¨ÂèØ‰ª•ÊâßË°åmysql_reset_connectionÊù•ÈáçÊñ∞ÂàùÂßãÂåñËøûÊé•ËµÑÊ∫ê Êü•ËØ¢ÁºìÂ≠ò Èô§ÈùûÊòØÈùôÊÄÅË°®ÔºåÂê¶Âàô‰∏çÂª∫ËÆÆÂºÄÂêØÊü•ËØ¢ÁºìÂ≠ò„ÄÇË°®Âè™Ë¶ÅÊúâ‰∏ÄÊ¨°Êõ¥Êñ∞Êìç‰ΩúÔºåË°®ÂÖ≥ËÅîÊâÄÊúâÁºìÂ≠òÈÉΩÂ§±Êïà„ÄÇMySQL 8.0Âèä‰ª•‰∏äÁºìÂ≠òÂäüËÉΩÂ∑≤Ë¢´Â∫üÂºÉ ÂàÜÊûêÂô®‰æùÊ¨°ËøõË°åÂ¶Ç‰∏ãÂàÜÊûêÔºå‰∏çÁ¨¶ÂêàËØçÊ≥ïÊàñËØ≠Ê≥ïÂàôÊäõÂá∫ÂºÇÂ∏∏ ËØçÊ≥ïÂàÜÊûêÔºöËß£ÊûêÂÖ≥ÈîÆÂ≠óÂíåÂ≠óÊÆµÂêç ËØ≠Ê≥ïÂàÜÊûêÔºöÂà§Êñ≠ÊòØÂê¶Á¨¶ÂêàMySQLËØ≠Ê≥ï ‰ºòÂåñÂô®ÂÜ≥ÂÆöSQLÁöÑÊâßË°åÈ°∫Â∫è ÊâßË°åÂô®Ë°®ÊùÉÈôêÊ†°È™åÔºåË∞ÉÁî®Êü•ËØ¢ÂºïÊìéÊé•Âè£Ê†πÊçÆÁ¥¢ÂºïÔºàÂ¶ÇÊûúÊúâÔºâÊü•ËØ¢Êï∞ÊçÆ SQLÊõ¥Êñ∞ËØ≠Âè•ÁöÑÊâßË°åÊâßË°åÊµÅÁ®ãÂíåÊü•ËØ¢ËØ≠Âè•ÁöÑÊµÅÁ®ã‰∏ÄÊ†∑ÔºåÂ¶Ç‰∏ãÈô§Ê≠§‰ª•Â§ñÔºåÊõ¥Êñ∞ÊµÅÁ®ãËøòÊ∂âÂèä‰∏§‰∏™ÈáçË¶ÅÁöÑÊó•ÂøóÊ®°ÂùóÔºöredo logÔºàÈáçÂÅöÊó•ÂøóÔºâÂíå binlogÔºàÂΩíÊ°£Êó•ÂøóÔºâredo logÔºöInnoDBÂºïÊìéÁâπÊúâÁöÑÊó•ÂøóÔºåÂèØ‰ª•‰øùËØÅcrash-safe„ÄÇÁéØÂΩ¢ÂÜôÂÖ•ÔºåÂèØ‰ª•ÈÖçÁΩÆ‰∏∫‰∏ÄÁªÑ4‰∏™Êñá‰ª∂ÔºåÂ¶Ç‰∏ãÊâÄÁ§∫Ôºåwrite posÊòØÂΩìÂâçËÆ∞ÂΩïÁöÑ‰ΩçÁΩÆÔºå‰∏ÄËæπÂÜô‰∏ÄËæπÂêéÁßªÔºåÂÜôÂà∞Á¨¨3Âè∑Êñá‰ª∂Êú´Â∞æÂêéÂ∞±ÂõûÂà∞0Âè∑Êñá‰ª∂ÂºÄÂ§¥„ÄÇcheckpointÊòØÂΩìÂâçË¶ÅÊì¶Èô§ÁöÑ‰ΩçÁΩÆÔºå‰πüÊòØÂæÄÂêéÊé®ÁßªÂπ∂‰∏îÂæ™ÁéØÁöÑÔºåÊì¶Èô§ËÆ∞ÂΩïÂâçË¶ÅÊääËÆ∞ÂΩïÊõ¥Êñ∞Âà∞Êï∞ÊçÆÊñá‰ª∂„ÄÇwrite posÂíåcheckpoint‰πãÈó¥ÁöÑÊòØËøòÁ©∫ÁùÄÁöÑÈÉ®ÂàÜÔºåÂèØ‰ª•Áî®Êù•ËÆ∞ÂΩïÊñ∞ÁöÑÊìç‰Ωú„ÄÇÂ¶ÇÊûúwrite posËøΩ‰∏ächeckpointÔºåË°®Á§∫redologÊª°‰∫ÜÔºåËøôÊó∂ÂÄô‰∏çËÉΩÂÜçÊâßË°åÊñ∞ÁöÑÊõ¥Êñ∞ÔºåÂæóÂÅú‰∏ãÊù•ÂÖàÊì¶Êéâ‰∏Ä‰∫õËÆ∞ÂΩïÂÜôÂÖ•binlogÔºåÊäächeckpointÊé®Ëøõ‰∏Ä‰∏ã","link":"/2025/02/15/MySQL%E5%AE%9E%E6%88%9845%E8%AE%B2-%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/"},{"title":"pysparkÂàÜÂ∏ÉÂºèËÆ≠ÁªÉ","text":"","link":"/2022/07/03/pyspark%E5%88%86%E5%B8%83%E5%BC%8F%E8%AE%AD%E7%BB%83/"},{"title":"ÂàÜÂ∏ÉÂºè‰∫ãÂä°‰∏éCAPÁêÜËÆ∫","text":"ÂæÖË°•ÂÖÖ","link":"/2022/07/24/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1%E4%B8%8ECAP%E7%90%86%E8%AE%BA/"},{"title":"ÂàõÂª∫Á¨¨‰∏Ä‰∏™AkkaÂ∫îÁî®","text":"ÂÖ≥‰∫éÊú¨Êñá ÁâàÊú¨Ôºö2.6‰πãÂêéÁöÑÁâàÊú¨‰∏∫Êî∂Ë¥πÁâàÊú¨Ôºå2.6ÁâàÊú¨ÁöÑscalaÁâà‰ΩøÁî®ÊñáÊ°£ËßÅv2.6‰ΩøÁî®ÊñáÊ°£ÔºåflinkÂú®Áî®ÁöÑ‰πüÊòØËøô‰∏™ÁâàÊú¨ apiÁ±ªÂûãÔºöclassicÊØîËæÉÁÅµÊ¥ªÔºåËØïÁî®‰∏Ä‰∏ãclassicÁâàÊú¨ÁöÑapi ÊûÑÂª∫Â∫îÁî®DemoÈÖçÁΩÆÂ¶Ç‰∏ãÁöÑpomÊñá‰ª∂ pom.xml >folded1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;tech.bravoqq&lt;/groupId&gt; &lt;artifactId&gt;demo-akka&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;properties&gt; &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt; &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;scala.version&gt;2.12.19&lt;/scala.version&gt; &lt;scala.base.version&gt;2.12&lt;/scala.base.version&gt; &lt;akka.version&gt;2.6.21&lt;/akka.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;com.typesafe.akka&lt;/groupId&gt; &lt;artifactId&gt;akka-actor_${scala.base.version}&lt;/artifactId&gt; &lt;version&gt;${akka.version}&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;sourceDirectory&gt;src/main/scala&lt;/sourceDirectory&gt; &lt;testSourceDirectory&gt;src/test/scala&lt;/testSourceDirectory&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;net.alchim31.maven&lt;/groupId&gt; &lt;artifactId&gt;scala-maven-plugin&lt;/artifactId&gt; &lt;version&gt;4.9.2&lt;/version&gt; &lt;executions&gt; &lt;execution&gt; &lt;goals&gt; &lt;goal&gt;compile&lt;/goal&gt; &lt;goal&gt;testCompile&lt;/goal&gt; &lt;/goals&gt; &lt;/execution&gt; &lt;/executions&gt; &lt;configuration&gt; &lt;scalaVersion&gt;${scala.version}&lt;/scalaVersion&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;&lt;/project&gt; ÂÆòÊñπdemoÁªôÂà∞ÁöÑÊòØ‰∏Ä‰∏™ping-pongÁöÑÁ≥ªÁªüÔºåÂ¶Ç‰∏ãÔºå Application.scala12345678910111213141516171819202122232425262728293031323334353637383940414243444546import akka.actor.{Actor, ActorRef, ActorSystem, PoisonPill, Props}import language.postfixOpsimport scala.concurrent.duration._case object Pingcase object Pongclass Pinger extends Actor { var countDown = 100 def receive = { case Pong =&gt; println(s&quot;${self.path} received pong, count down $countDown&quot;) if (countDown &gt; 0) { countDown -= 1 sender() ! Ping } else { sender() ! PoisonPill self ! PoisonPill } }}class Ponger(pinger: ActorRef) extends Actor { def receive = { case Ping =&gt; println(s&quot;${self.path} received ping&quot;) pinger ! Pong }}object Application extends App { val system = ActorSystem(&quot;pingpong&quot;) val pinger = system.actorOf(Props[Pinger](), &quot;pinger&quot;) val ponger = system.actorOf(Props(classOf[Ponger], pinger), &quot;ponger&quot;) import system.dispatcher system.scheduler.scheduleOnce(500 millis) { ponger ! Ping }}","link":"/2024/08/07/%E5%88%9B%E5%BB%BA%E7%AC%AC%E4%B8%80%E4%B8%AAAkka%E5%BA%94%E7%94%A8/"}],"tags":[{"name":"ÂàÜÂ∏ÉÂºè","slug":"ÂàÜÂ∏ÉÂºè","link":"/tags/%E5%88%86%E5%B8%83%E5%BC%8F/"},{"name":"dolphinscheduler","slug":"dolphinscheduler","link":"/tags/dolphinscheduler/"},{"name":"Akka","slug":"Akka","link":"/tags/Akka/"},{"name":"CAP","slug":"CAP","link":"/tags/CAP/"}],"categories":[{"name":"Ë∞ÉÂ∫¶ÊúçÂä°","slug":"Ë∞ÉÂ∫¶ÊúçÂä°","link":"/categories/%E8%B0%83%E5%BA%A6%E6%9C%8D%E5%8A%A1/"},{"name":"ÂàÜÂ∏ÉÂºè","slug":"ÂàÜÂ∏ÉÂºè","link":"/categories/%E5%88%86%E5%B8%83%E5%BC%8F/"}]}